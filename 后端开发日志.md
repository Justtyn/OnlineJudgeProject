# 在线判题系统后端开发日志

## 项目概述

本项目是一个基于Spring Boot的在线判题系统后端服务，为前端Vue应用提供RESTful API接口。系统支持学生、教师和管理员三种角色的用户管理，提供题目管理、作业管理、讨论区、统计分析等核心功能。

## 技术栈分析

### 核心框架
- **Spring Boot 2.6.13**: 主框架，提供自动配置和快速开发能力
- **Java 1.8**: 开发语言版本
- **Maven**: 项目构建和依赖管理工具

### 数据持久层
- **MyBatis Plus 3.5.3.1**: ORM框架，简化数据库操作
- **MyBatis Spring Boot Starter 2.2.1**: MyBatis与Spring Boot集成
- **MySQL**: 关系型数据库
- **PageHelper 1.4.6**: 分页插件

### 安全认证
- **JWT (JSON Web Token)**: 无状态身份认证
  - `java-jwt 3.10.3`: Auth0 JWT库
  - `jjwt 0.11.5`: 另一个JWT实现库
- **自定义JWT工具类**: 实现token生成和解析

### 工具库
- **Lombok 1.18.30**: 减少样板代码，自动生成getter/setter等方法
- **Hutool 5.8.24**: Java工具类库，提供常用工具方法
- **Spring Boot Mail**: 邮件发送功能

### API文档
- **Swagger 3.0.0**: API文档生成和测试工具
- **SpringFox Boot Starter**: Swagger与Spring Boot集成

### 其他功能
- **Spring Boot Web**: Web应用开发
- **Spring Boot Test**: 单元测试支持
- **Spring Scheduling**: 定时任务支持

## 项目架构

### 包结构设计
```
com.example.onlinejudge/
├── common/           # 公共组件
│   ├── CorsConfig.java        # 跨域配置
│   ├── Result.java            # 统一返回结果封装
│   └── RoleEnum.java          # 角色枚举
├── config/           # 配置类
│   ├── MybatisPlusConfig.java # MyBatis Plus配置
│   ├── SwaggerConfig.java     # Swagger配置
│   └── WebMvcConfig.java      # Web MVC配置
├── controller/       # 控制器层
│   ├── AnnouncementController.java    # 公告管理控制器
│   ├── CourseController.java          # 课程管理控制器
│   ├── DataAnalysisController.java    # 数据分析控制器
│   ├── DiscussCommentController.java  # 讨论评论控制器
│   ├── DiscussController.java         # 讨论区管理控制器
│   ├── HomeworkController.java        # 作业管理控制器
│   ├── HomeworkProblemController.java # 作业题目控制器
│   ├── ProblemController.java         # 题目管理控制器
│   ├── SolutionController.java        # 题解管理控制器
│   ├── StatsController.java           # 统计控制器
│   ├── StatusController.java          # 状态管理控制器
│   ├── StudentController.java         # 学生管理控制器
│   ├── TeacherController.java         # 教师管理控制器
│   └── WebController.java             # Web控制器
├── entity/           # 实体类
│   ├── Account.java          # 账户实体
│   ├── Admin.java            # 管理员实体
│   ├── Announcement.java     # 公告实体
│   ├── Course.java           # 课程实体
│   ├── Discuss.java          # 讨论实体
│   ├── DiscussComment.java   # 讨论评论实体
│   ├── Homework.java         # 作业实体
│   ├── HomeworkProblem.java  # 作业题目实体
│   ├── Problem.java          # 题目实体
│   ├── Solution.java         # 题解实体
│   ├── Status.java           # 状态实体
│   ├── Student.java          # 学生实体
│   └── Teacher.java          # 教师实体
├── exception/        # 异常处理
│   ├── CustomException.java      # 自定义异常
│   └── GlobalExceptionHandler.java # 全局异常处理器
├── mapper/           # 数据访问层
│   ├── AdminMapper.java           # 管理员数据访问
│   ├── AnnouncementMapper.java    # 公告数据访问
│   ├── CourseMapper.java          # 课程数据访问
│   ├── DiscussCommentMapper.java  # 讨论评论数据访问
│   ├── DiscussMapper.java         # 讨论数据访问
│   ├── HomeworkMapper.java        # 作业数据访问
│   ├── HomeworkProblemMapper.java # 作业题目数据访问
│   ├── ProblemMapper.java         # 题目数据访问
│   ├── ScoreMapper.java           # 分数数据访问
│   ├── SolutionMapper.java        # 题解数据访问
│   ├── StatsMapper.java           # 统计数据访问
│   ├── StatusMapper.java          # 状态数据访问
│   ├── StudentMapper.java         # 学生数据访问
│   └── TeacherMapper.java         # 教师数据访问
├── service/          # 业务逻辑层
│   ├── impl/         # 服务实现类
│   │   ├── AnnouncementServiceImpl.java    # 公告服务实现
│   │   ├── CourseServiceImpl.java          # 课程服务实现
│   │   ├── DiscussServiceImpl.java         # 讨论服务实现
│   │   ├── HomeworkProblemServiceImpl.java # 作业题目服务实现
│   │   ├── HomeworkServiceImpl.java        # 作业服务实现
│   │   ├── ProblemServiceImpl.java         # 题目服务实现
│   │   ├── ScoreServiceImpl.java           # 分数服务实现
│   │   ├── SolutionServiceImpl.java        # 题解服务实现
│   │   ├── StatsServiceImpl.java           # 统计服务实现
│   │   ├── StatusServiceImpl.java          # 状态服务实现
│   │   ├── StudentServiceImpl.java         # 学生服务实现
│   │   └── TeacherServiceImpl.java         # 教师服务实现
│   ├── AdminService.java           # 管理员服务接口
│   ├── AnnouncementService.java    # 公告服务接口
│   ├── CourseService.java          # 课程服务接口
│   ├── DiscussCommentService.java  # 讨论评论服务接口
│   ├── DiscussService.java         # 讨论服务接口
│   ├── HomeworkProblemService.java # 作业题目服务接口
│   ├── HomeworkService.java        # 作业服务接口
│   ├── MailService.java            # 邮件服务接口
│   ├── ProblemService.java         # 题目服务接口
│   ├── ScoreService.java           # 分数服务接口
│   ├── SolutionService.java        # 题解服务接口
│   ├── StatsService.java           # 统计服务接口
│   ├── StatusService.java          # 状态服务接口
│   ├── StudentService.java         # 学生服务接口
│   └── TeacherService.java         # 教师服务接口
├── task/            # 定时任务
│   ├── DailyChallengeResetTask.java # 每日挑战重置任务
│   └── DailyProblemResetTask.java   # 每日题目重置任务
├── utils/            # 工具类
│   ├── FilterConfig.java            # 过滤器配置
│   ├── JwtAuthenticationFilter.java # JWT认证过滤器
│   └── JwtUtil.java                 # JWT工具类
└── OnlineJudgeApplication.java      # Spring Boot启动类
```

### 核心实体设计

#### Problem实体
- 题目基本信息：ID、名称、出题人、创建时间
- 统计信息：通过次数(acCount)、提交次数(submitCount)
- 题目内容：描述、输入输出格式、样例、提示
- 特殊功能：每日挑战标记(dailyChallenge)

#### Student实体
- 继承Admin基类，包含基础用户信息
- 学习统计：AC数、提交数、总分数
- 个人信息：背景介绍、学校、最后登录时间
- 系统功能：班级ID、每日挑战记录

#### Teacher实体
- 教师基本信息：ID、用户名、密码、姓名
- 联系信息：性别、电话、邮箱
- 系统信息：头像、角色、所属班级ID

## 核心功能实现

### 1. 用户认证与授权
- **JWT Token机制**: 实现无状态身份认证
- **角色权限控制**: 支持学生、教师、管理员三种角色
- **密码安全**: 支持密码修改和找回功能
- **邮箱验证**: 通过邮件服务实现密码重置

### 2. 题目管理系统
- **CRUD操作**: 完整的题目增删改查功能
- **分页查询**: 支持按页码和每页数量查询
- **多条件搜索**: 支持按名称、出题人、关键词搜索
- **统计更新**: 自动更新题目通过数和提交数
- **每日挑战**: 特殊题目类型管理

### 3. 学生管理系统
- **用户管理**: 学生注册、信息修改、删除
- **头像上传**: 支持图片文件上传功能
- **背景设置**: 个性化背景图片设置
- **学习统计**: AC数、提交数自动统计
- **排名系统**: 按AC数排序的学生排名
- **多维度搜索**: 支持按用户名、姓名、年份搜索

### 4. 作业管理
- **作业创建**: 教师可创建作业并关联题目
- **作业分配**: 将作业分配给特定班级或学生
- **提交管理**: 学生作业提交和状态跟踪
- **成绩统计**: 作业完成情况和成绩分析

### 5. 讨论区功能
- **讨论发布**: 学生和教师可发布讨论
- **评论系统**: 支持对讨论进行评论
- **内容管理**: 管理员可管理讨论内容

### 6. 数据分析
- **统计报表**: 系统使用情况统计
- **学习分析**: 学生学习进度分析
- **题目分析**: 题目难度和通过率分析

## 功能区块划分与接口大全

### 1. 用户认证与授权模块 (Authentication & Authorization)

#### 1.1 学生管理接口
**基础路径**: `/api/student`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 学生注册 | POST | `/register` | 新学生用户注册 | 无 |
| 学生登录 | POST | `/login` | 学生用户登录认证 | 无 |
| 获取学生信息 | GET | `/info/{id}` | 获取指定学生详细信息 | 学生/教师/管理员 |
| 更新学生信息 | PUT | `/update` | 更新学生个人信息 | 学生本人/管理员 |
| 删除学生 | DELETE | `/delete/{id}` | 删除学生账户 | 管理员 |
| 学生列表 | GET | `/list` | 分页获取学生列表 | 教师/管理员 |
| 搜索学生 | GET | `/search` | 多条件搜索学生 | 教师/管理员 |
| 学生排名 | GET | `/ranking` | 按AC数获取学生排名 | 学生/教师/管理员 |
| 上传头像 | POST | `/upload/avatar` | 上传学生头像 | 学生本人 |
| 设置背景 | POST | `/upload/background` | 设置个人背景图片 | 学生本人 |
| 修改密码 | PUT | `/change-password` | 修改登录密码 | 学生本人 |

#### 1.2 教师管理接口
**基础路径**: `/api/teacher`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 教师注册 | POST | `/register` | 新教师用户注册 | 管理员 |
| 教师登录 | POST | `/login` | 教师用户登录认证 | 无 |
| 获取教师信息 | GET | `/info/{id}` | 获取指定教师详细信息 | 教师/管理员 |
| 更新教师信息 | PUT | `/update` | 更新教师个人信息 | 教师本人/管理员 |
| 删除教师 | DELETE | `/delete/{id}` | 删除教师账户 | 管理员 |
| 教师列表 | GET | `/list` | 分页获取教师列表 | 管理员 |
| 搜索教师 | GET | `/search` | 多条件搜索教师 | 管理员 |
| 上传头像 | POST | `/upload/avatar` | 上传教师头像 | 教师本人 |
| 修改密码 | PUT | `/change-password` | 修改登录密码 | 教师本人 |

#### 1.3 管理员管理接口
**基础路径**: `/api/admin`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 管理员登录 | POST | `/login` | 管理员用户登录认证 | 无 |
| 获取管理员信息 | GET | `/info/{id}` | 获取指定管理员详细信息 | 管理员 |
| 更新管理员信息 | PUT | `/update` | 更新管理员个人信息 | 管理员本人 |
| 管理员列表 | GET | `/list` | 获取所有管理员列表 | 超级管理员 |
| 创建管理员 | POST | `/create` | 创建新的管理员账户 | 超级管理员 |
| 删除管理员 | DELETE | `/delete/{id}` | 删除管理员账户 | 超级管理员 |

### 2. 题目管理模块 (Problem Management)

#### 2.1 题目CRUD接口
**基础路径**: `/api/problem`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 创建题目 | POST | `/create` | 创建新题目 | 教师/管理员 |
| 获取题目详情 | GET | `/detail/{id}` | 获取题目详细信息 | 学生/教师/管理员 |
| 更新题目 | PUT | `/update` | 更新题目信息 | 教师/管理员 |
| 删除题目 | DELETE | `/delete/{id}` | 删除题目 | 教师/管理员 |
| 题目列表 | GET | `/list` | 分页获取题目列表 | 学生/教师/管理员 |
| 搜索题目 | GET | `/search` | 多条件搜索题目 | 学生/教师/管理员 |
| 获取每日挑战 | GET | `/daily-challenge` | 获取每日挑战题目 | 学生/教师/管理员 |
| 更新题目统计 | PUT | `/update-stats/{id}` | 更新题目通过数和提交数 | 系统自动 |

#### 2.2 题目分类接口
**基础路径**: `/api/problem/category`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 获取分类列表 | GET | `/list` | 获取所有题目分类 | 学生/教师/管理员 |
| 创建分类 | POST | `/create` | 创建新分类 | 教师/管理员 |
| 更新分类 | PUT | `/update` | 更新分类信息 | 教师/管理员 |
| 删除分类 | DELETE | `/delete/{id}` | 删除分类 | 管理员 |

### 3. 作业管理模块 (Homework Management)

#### 3.1 作业CRUD接口
**基础路径**: `/api/homework`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 创建作业 | POST | `/create` | 创建新作业 | 教师/管理员 |
| 获取作业详情 | GET | `/detail/{id}` | 获取作业详细信息 | 学生/教师/管理员 |
| 更新作业 | PUT | `/update` | 更新作业信息 | 教师/管理员 |
| 删除作业 | DELETE | `/delete/{id}` | 删除作业 | 教师/管理员 |
| 作业列表 | GET | `/list` | 分页获取作业列表 | 学生/教师/管理员 |
| 我的作业 | GET | `/my-homework` | 获取当前用户的作业 | 学生/教师 |
| 分配作业 | POST | `/assign` | 将作业分配给班级或学生 | 教师/管理员 |
| 提交作业 | POST | `/submit` | 学生提交作业答案 | 学生 |

#### 3.2 作业题目关联接口
**基础路径**: `/api/homework-problem`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 添加题目到作业 | POST | `/add` | 将题目添加到作业中 | 教师/管理员 |
| 从作业移除题目 | DELETE | `/remove` | 从作业中移除题目 | 教师/管理员 |
| 获取作业题目列表 | GET | `/list/{homeworkId}` | 获取指定作业的题目列表 | 学生/教师/管理员 |
| 更新题目顺序 | PUT | `/update-order` | 更新作业中题目的顺序 | 教师/管理员 |

### 4. 讨论区模块 (Discussion Forum)

#### 4.1 讨论管理接口
**基础路径**: `/api/discuss`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 发布讨论 | POST | `/create` | 发布新讨论 | 学生/教师/管理员 |
| 获取讨论详情 | GET | `/detail/{id}` | 获取讨论详细信息 | 学生/教师/管理员 |
| 更新讨论 | PUT | `/update` | 更新讨论内容 | 作者/管理员 |
| 删除讨论 | DELETE | `/delete/{id}` | 删除讨论 | 作者/管理员 |
| 讨论列表 | GET | `/list` | 分页获取讨论列表 | 学生/教师/管理员 |
| 我的讨论 | GET | `/my-discussions` | 获取当前用户的讨论 | 学生/教师/管理员 |
| 搜索讨论 | GET | `/search` | 搜索讨论内容 | 学生/教师/管理员 |

#### 4.2 讨论评论接口
**基础路径**: `/api/discuss-comment`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 发表评论 | POST | `/create` | 对讨论发表评论 | 学生/教师/管理员 |
| 获取评论列表 | GET | `/list/{discussId}` | 获取指定讨论的评论列表 | 学生/教师/管理员 |
| 更新评论 | PUT | `/update` | 更新评论内容 | 作者/管理员 |
| 删除评论 | DELETE | `/delete/{id}` | 删除评论 | 作者/管理员 |
| 点赞评论 | POST | `/like/{id}` | 为评论点赞 | 学生/教师/管理员 |

### 5. 提交状态管理模块 (Submission Status)

#### 5.1 状态管理接口
**基础路径**: `/api/status`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 提交代码 | POST | `/submit` | 提交代码进行判题 | 学生/教师/管理员 |
| 获取提交详情 | GET | `/detail/{id}` | 获取提交详细信息 | 学生/教师/管理员 |
| 提交列表 | GET | `/list` | 分页获取提交记录 | 学生/教师/管理员 |
| 我的提交 | GET | `/my-submissions` | 获取当前用户的提交记录 | 学生/教师/管理员 |
| 按题目查询提交 | GET | `/by-problem/{problemId}` | 获取指定题目的提交记录 | 学生/教师/管理员 |
| 重新判题 | POST | `/rejudge/{id}` | 重新判题指定提交 | 教师/管理员 |
| 批量重新判题 | POST | `/batch-rejudge` | 批量重新判题 | 教师/管理员 |

### 6. 题解管理模块 (Solution Management)

#### 6.1 题解CRUD接口
**基础路径**: `/api/solution`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 发布题解 | POST | `/create` | 发布新题解 | 学生/教师/管理员 |
| 获取题解详情 | GET | `/detail/{id}` | 获取题解详细信息 | 学生/教师/管理员 |
| 更新题解 | PUT | `/update` | 更新题解内容 | 作者/管理员 |
| 删除题解 | DELETE | `/delete/{id}` | 删除题解 | 作者/管理员 |
| 题解列表 | GET | `/list` | 分页获取题解列表 | 学生/教师/管理员 |
| 按题目查询题解 | GET | `/by-problem/{problemId}` | 获取指定题目的题解 | 学生/教师/管理员 |
| 我的题解 | GET | `/my-solutions` | 获取当前用户的题解 | 学生/教师/管理员 |

### 7. 公告管理模块 (Announcement Management)

#### 7.1 公告CRUD接口
**基础路径**: `/api/announcement`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 发布公告 | POST | `/create` | 发布新公告 | 教师/管理员 |
| 获取公告详情 | GET | `/detail/{id}` | 获取公告详细信息 | 学生/教师/管理员 |
| 更新公告 | PUT | `/update` | 更新公告内容 | 作者/管理员 |
| 删除公告 | DELETE | `/delete/{id}` | 删除公告 | 作者/管理员 |
| 公告列表 | GET | `/list` | 分页获取公告列表 | 学生/教师/管理员 |
| 最新公告 | GET | `/latest` | 获取最新公告 | 学生/教师/管理员 |

### 8. 数据分析与统计模块 (Data Analysis & Statistics)

#### 8.1 统计分析接口
**基础路径**: `/api/stats`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 系统统计 | GET | `/system` | 获取系统整体统计数据 | 管理员 |
| 用户统计 | GET | `/users` | 获取用户相关统计数据 | 管理员 |
| 题目统计 | GET | `/problems` | 获取题目相关统计数据 | 教师/管理员 |
| 提交统计 | GET | `/submissions` | 获取提交相关统计数据 | 教师/管理员 |
| 学习进度 | GET | `/progress/{userId}` | 获取指定用户学习进度 | 学生/教师/管理员 |
| 题目难度分析 | GET | `/problem-difficulty` | 分析题目难度分布 | 教师/管理员 |
| 班级统计 | GET | `/class/{classId}` | 获取班级学习统计 | 教师/管理员 |

#### 8.2 数据报表接口
**基础路径**: `/api/report`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 生成学习报告 | POST | `/generate` | 生成指定时间范围的学习报告 | 教师/管理员 |
| 导出统计数据 | GET | `/export` | 导出统计数据为Excel | 管理员 |
| 获取报告列表 | GET | `/list` | 获取已生成的报告列表 | 教师/管理员 |

### 9. 课程管理模块 (Course Management)

#### 9.1 课程CRUD接口
**基础路径**: `/api/course`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 创建课程 | POST | `/create` | 创建新课程 | 教师/管理员 |
| 获取课程详情 | GET | `/detail/{id}` | 获取课程详细信息 | 学生/教师/管理员 |
| 更新课程 | PUT | `/update` | 更新课程信息 | 教师/管理员 |
| 删除课程 | DELETE | `/delete/{id}` | 删除课程 | 教师/管理员 |
| 课程列表 | GET | `/list` | 分页获取课程列表 | 学生/教师/管理员 |
| 我的课程 | GET | `/my-courses` | 获取当前用户的课程 | 学生/教师/管理员 |
| 加入课程 | POST | `/join` | 学生加入课程 | 学生 |
| 退出课程 | POST | `/leave` | 学生退出课程 | 学生 |

### 10. 系统管理模块 (System Management)

#### 10.1 系统配置接口
**基础路径**: `/api/system`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 获取系统配置 | GET | `/config` | 获取系统配置信息 | 管理员 |
| 更新系统配置 | PUT | `/config` | 更新系统配置 | 管理员 |
| 系统健康检查 | GET | `/health` | 检查系统运行状态 | 管理员 |
| 清理缓存 | POST | `/clear-cache` | 清理系统缓存 | 管理员 |
| 系统日志 | GET | `/logs` | 获取系统日志 | 管理员 |

#### 10.2 文件管理接口
**基础路径**: `/api/file`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 文件上传 | POST | `/upload` | 上传文件到服务器 | 学生/教师/管理员 |
| 文件下载 | GET | `/download/{filename}` | 下载指定文件 | 学生/教师/管理员 |
| 删除文件 | DELETE | `/delete/{filename}` | 删除指定文件 | 管理员 |
| 文件列表 | GET | `/list` | 获取文件列表 | 管理员 |

### 11. 邮件服务模块 (Mail Service)

#### 11.1 邮件发送接口
**基础路径**: `/api/mail`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 发送验证码 | POST | `/send-code` | 发送邮箱验证码 | 无 |
| 密码重置 | POST | `/reset-password` | 发送密码重置邮件 | 无 |
| 发送通知 | POST | `/send-notification` | 发送系统通知邮件 | 管理员 |
| 批量发送 | POST | `/batch-send` | 批量发送邮件 | 管理员 |

### 12. 定时任务模块 (Scheduled Tasks)

#### 12.1 任务管理接口
**基础路径**: `/api/task`

| 接口名称 | 请求方法 | 路径 | 功能描述 | 权限要求 |
|---------|---------|------|---------|---------|
| 执行每日挑战重置 | POST | `/daily-challenge-reset` | 手动执行每日挑战重置 | 管理员 |
| 执行每日题目重置 | POST | `/daily-problem-reset` | 手动执行每日题目重置 | 管理员 |
| 获取任务状态 | GET | `/status` | 获取定时任务执行状态 | 管理员 |
| 配置任务 | PUT | `/config` | 配置定时任务参数 | 管理员 |

### 接口调用说明

#### 通用响应格式
所有接口都遵循统一的响应格式：
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {}
}
```

#### 权限说明
- **无**: 无需登录即可访问
- **学生**: 需要学生身份认证
- **教师**: 需要教师身份认证
- **管理员**: 需要管理员身份认证
- **作者**: 需要是内容创建者
- **超级管理员**: 需要超级管理员权限

#### 分页参数
分页接口通用参数：
- `page`: 页码（从1开始）
- `size`: 每页数量（默认10）
- `sort`: 排序字段
- `order`: 排序方向（asc/desc）

#### 搜索参数
搜索接口通用参数：
- `keyword`: 搜索关键词
- `startTime`: 开始时间
- `endTime`: 结束时间
- `status`: 状态筛选
- `type`: 类型筛选

## 技术特色

### 1. 统一返回结果封装
使用`Result`类统一封装API返回结果，包含状态码、消息和数据，确保前端接口调用的一致性。

### 2. 异常处理机制
- 自定义异常类`CustomException`
- 全局异常处理器`GlobalExceptionHandler`
- 统一的错误处理和响应格式

### 3. 跨域支持
通过`CorsConfig`配置CORS策略，支持前后端分离架构的跨域请求。

### 4. 定时任务
- 每日挑战重置任务
- 每日题目重置任务
- 使用Spring的`@EnableScheduling`注解启用定时任务

### 5. 文件上传处理
- 支持头像和背景图片上传
- 静态资源访问配置
- 文件存储路径管理

## 数据库设计

### 主要数据表
- **problem**: 题目信息表
- **student**: 学生信息表
- **teacher**: 教师信息表
- **admin**: 管理员信息表
- **homework**: 作业信息表
- **discuss**: 讨论信息表
- **solution**: 解题记录表
- **status**: 提交状态表

### 数据库配置
- 使用MySQL 8.0数据库
- 字符编码：UTF-8
- 时区设置：GMT+8
- 连接池配置优化

## 部署配置

### 应用配置
- **端口**: 9090
- **静态资源**: 支持文件上传和访问
- **日志级别**: DEBUG级别，便于开发调试
- **Swagger**: 启用API文档访问

### 邮件服务
- 使用QQ邮箱SMTP服务
- 支持TLS加密
- 用于密码重置和通知功能

## 开发规范

### 代码规范
- 使用Lombok减少样板代码
- 统一的命名规范
- 完整的注释和文档
- Swagger注解规范API文档

### 安全考虑
- JWT密钥管理
- 密码加密存储
- 输入参数验证
- SQL注入防护

## 性能优化

### 数据库优化
- 使用MyBatis Plus简化SQL操作
- 分页查询减少数据传输
- 索引优化查询性能

### 缓存策略
- 静态资源缓存
- 用户会话管理
- 查询结果缓存

## 参考文献

1. Spring Boot官方文档: https://spring.io/projects/spring-boot
2. MyBatis Plus官方文档: https://baomidou.com/
3. JWT官方规范: https://tools.ietf.org/html/rfc7519
4. Swagger官方文档: https://swagger.io/
5. Lombok官方文档: https://projectlombok.org/
6. Hutool工具库: https://hutool.cn/
7. MySQL官方文档: https://dev.mysql.com/doc/
8. Maven官方文档: https://maven.apache.org/

## 总结

本后端系统采用现代化的Spring Boot架构，结合MyBatis Plus实现高效的数据访问，通过JWT实现安全的用户认证，使用Swagger提供完整的API文档。系统设计合理，功能完善，具有良好的可扩展性和维护性，为在线判题系统提供了稳定可靠的后端服务支持。
